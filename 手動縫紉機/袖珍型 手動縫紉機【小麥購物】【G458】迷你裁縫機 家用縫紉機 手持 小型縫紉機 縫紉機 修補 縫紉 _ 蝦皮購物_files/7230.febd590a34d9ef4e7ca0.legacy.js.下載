(self.wpJsonpPcmallRcmd=self.wpJsonpPcmallRcmd||[]).push([[7230],{31750:function(t,e,n){"use strict";n.d(e,{_8:function(){return a},C8:function(){return i}});var a="#EE4D2D",i="#066BC8"},42894:function(t,e,n){"use strict";function a(t,e){return function(n,a){return void 0===n&&(n=e),a&&t.hasOwnProperty(a.type)?t[a.type](n,a):n}}n.d(e,{Z:function(){return a}})},82041:function(t,e,n){"use strict";n.d(e,{fp:function(){return y},mn:function(){return b},zP:function(){return F},WO:function(){return N},l_:function(){return h},Vx:function(){return x},KM:function(){return L},NU:function(){return U}});var a=n(23793),i=n(52413),o=n(1659),r=n(67782),d=(0,r.n)("FETCH_DAILY_DISCOVER_MAIN"),_=(0,r.n)("DAILY_DISCOVER_MAIN_REMOVE_ITEM"),c={1:"free-gifts",2:"exclusive-deals"},u=function(t){return t.Item="item",t.Ads="ads",t.Collection="collection",t.TopProduct="top_product",t.Keyword="keyword",t.L2Cat="l2cat",t.Shop="shop",t.Knode="knode",t.Food="food_item",t.Livestream="stream",t.Video="video",t}({}),l=function(t){return t.Item="item_card",t.Ads="ads_item_card",t.ShopeePay="shopee_pay_voucher_card",t.Food="food_item_card",t.TopProduct="top_product_card",t.Knode="featured_collection_card",t.Livestream="livestream_card",t.Video="video_card",t}({}),s={SG:{all_tab_config:{display_text:"All",tab_image:"8605794b554a56fbd45124ab53f87ca7",text_color:"#ee4d2d"}},ID:{all_tab_config:{display_text:"Semua",tab_image:"8605794b554a56fbd45124ab53f87ca7",text_color:"#ee4d2d"}},MY:{all_tab_config:{display_text:"All",tab_image:"439e072505267a0ee1697ffdd38f886b",text_color:"#ee4d2d"}},PH:{all_tab_config:{display_text:"All",tab_image:"f0c0b4f654ffde3b97edb9468b7782d5",text_color:"#ee4d2d"}},TH:{all_tab_config:{display_text:"สินค้าแนะนำ",tab_image:"7cb98aae24d04ff82ef2ee8879dbca33",text_color:"#ee4d2d"}},TW:{all_tab_config:{display_text:"全部",tab_image:"8605794b554a56fbd45124ab53f87ca7",text_color:"#ee4d2d"}},VN:{all_tab_config:{display_text:"Tất cả",tab_image:"8605794b554a56fbd45124ab53f87ca7",text_color:"#ee4d2d"}},BR:{all_tab_config:{display_text:"Tudo",tab_image:"0668017f080a7aa5c62a32cff930bd5b",text_color:"#000000"}},MX:{all_tab_config:{display_text:"Todo",tab_image:"c914bd47df5c1905e77af69092f05501",text_color:"#ee4d2d"}},CO:{all_tab_config:{display_text:"Todo",tab_image:"c914bd47df5c1905e77af69092f05501",text_color:"#ee4d2d"}},CL:{all_tab_config:{display_text:"Todo",tab_image:"c914bd47df5c1905e77af69092f05501",text_color:"#ee4d2d"}},AR:{all_tab_config:{display_text:"Todos",tab_image:"3625beb950f8e8e7d4e253c933c2f169",text_color:"#ee4d2d"}},PL:{all_tab_config:{display_text:"Wszystkie",tab_image:"8605794b554a56fbd45124ab53f87ca7",text_color:"#ee4d2d"}},ES:{all_tab_config:{display_text:"Todo",tab_image:"c914bd47df5c1905e77af69092f05501",text_color:"#ee4d2d"}},FR:{all_tab_config:{display_text:"TOUT",tab_image:"c914bd47df5c1905e77af69092f05501",text_color:"#ee4d2d"}},IN:{all_tab_config:{display_text:"All",tab_image:"8605794b554a56fbd45124ab53f87ca7",text_color:"#ee4d2d"}},default:{all_tab_config:{display_text:"All",tab_image:"8605794b554a56fbd45124ab53f87ca7",text_color:"#ee4d2d"}}},f=n(71140),p=["flash_sale_info"];function m(){return m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},m.apply(this,arguments)}var E=function(t){return m({},t,{label_ids:t.label_ids||[]})};function g(t){var e,n,a,i,o,r,d,_=[],u=0;return(null==t||null===(e=t.data)||void 0===e||null===(n=e.feeds)||void 0===n?void 0:n.length)>0&&(_=null==t||null===(r=t.data)||void 0===r?void 0:r.feeds),"number"==typeof(null==t||null===(a=t.data)||void 0===a?void 0:a.feed_total)&&(null==t||null===(i=t.data)||void 0===i?void 0:i.feed_total)>0&&(u=null==t||null===(d=t.data)||void 0===d?void 0:d.feed_total),0===_.length||0===u?{update_time:Date.now()||0,version:""||void 0,sections:{dd_main_sec:{total:0,data:[]}}}:{update_time:Date.now(),sections:{dd_main_sec:{total:u||0,data:(null===(o=_)||void 0===o?void 0:o.map((function(t){return function(t){var e,n,a,i,o,r,d,_,u,s,f,p,g,v,b,O,C,I,R,A,T,y,D;switch(t.type){case l.TopProduct:return g=null===(e=t.top_product_card)||void 0===e?void 0:e.top_product,v=g.key,b=g.intentionid,O=g.knodeid,C=g.label,I=g.name,R=g.images,A=g.count,T=g.info,y=g.from,D=g.data_type,{key:v,count:A,knodeId:O||"",topProductId:b||C||"",name:I,image:R?R[0]:null,sold:A,recommendation_info:T,recommendation_algorithm:y,data_type:D};case l.Knode:return function(t){var e=t.data_type,n=t.name,a=t.label,i=t.key,o=t.knodeid,r=t.images,d=t.info,_=t.count,c=t.item_count,u=void 0===c?0:c;return{data_type:e,name:n,label:a,key:i,knodeid:o,image:r?r[0]:null,images:r,count:_,item_count:u,recommendation_algorithm:"",recommendation_info:d}}(null===(n=t.featured_collection_card)||void 0===n?void 0:n.knode);case l.Livestream:return null===(a=t.livestream_card)||void 0===a?void 0:a.stream;case l.Video:return null!=(s=null===(i=t.video_card)||void 0===i?void 0:i.video)&&s.video?{key:null!=(f=s.key)?f:s.data_type+"::"+s.video.video_id,data_type:s.data_type,algo_info:s.algo_info,info:s.recommendation_info,dd_post:{encode_post_id:s.post_id,user_id:s.user_id,post_info:{caption:s.caption,video:s.video,view_count:s.view_count},user_info:{shopee_avatar:s.user_avatar},products:[{product:m({},null===(p=s.products)||void 0===p?void 0:p[0])}]}}:null;case l.Food:return null===(o=t.food_item_card)||void 0===o?void 0:o.food_item;case l.ShopeePay:return null===(r=t.shopee_pay_voucher_card)||void 0===r?void 0:r.item;case l.Ads:return t.ads_item_card?S(t.ads_item_card.ads):void 0;case l.Item:return t.item_card?function(t){var e;if(null===(e=t.product_banners)||void 0===e||!e.length)return t;var n=t.product_banners[0];if(0===n.priority){var a=t.wp_eligibility?c[t.wp_eligibility.wp_type]:null,i=a?"rn/@shopee-rn/welcome-package/WELCOME_PACKAGE_PAGE?type="+a:"rn/@shopee-rn/welcome-package/WELCOME_PACKAGE_PAGE";return m({},E(t),{item_bottom_label:m({},n,{url:i,targetType:"NEW_USER_LABEL"})})}if(1===n.priority&&t.top_product_label){var o=t.top_product_label,r=o.knodeid,d=o.top_product_type,_=void 0===d?1:d,u=o.section,l=void 0===u?"dd_tsp_item_sec":u;return r?m({},t,{item_bottom_label:m({},n,{url:"rn/@shopee-rn/recommendation/DAILY_DISCOVER_TOP_PRODUCTS?intentionId="+encodeURIComponent(r)+"&sortType="+_+"&section="+l,targetType:"TOP_PRODUCT_BANNER"})}):t}}(m({},S(t.item_card.item),{fashion_item:"fashion_card_default"===(null===(d=t.item_card)||void 0===d?void 0:d.ui_style)})):void 0;default:return null!=(_=null===(u=t.item_card)||void 0===u?void 0:u.item)?_:void 0}}(t)})).filter((function(t){return Boolean(t)})))||[]}}}}function S(t){if(!t.flash_sale_info)return t;var e=t.flash_sale_info;return m({},function(t,e){if(null==t)return{};var n,a,i={},o=Object.keys(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,p),e,{flash_sale_design_style:v(e.flash_sale_design_type)})}var v=function(t){switch(t){case 1:return 2;case 2:return 3;default:return 0}};function b(t){var e=t.experiment_toggle,n=t.limit,r=t.offset,_=t.latitude,c=t.longitude,u=t.division_info_list,l=t.itemCardStyle,p=t.onFinish,m=t.shouldSkipCall,E=t.shouldReset,S=t.isFriendVisible,v=t.layout_track_id,b=t.treatment_group,O=t.view_session_id,C=(0,i.Wc)({bundle:"daily_discover_main",experiment_toggle:e,limit:n,offset:r,latitude:_,longitude:c,division_info_list:u,item_card:l,friend_visible:S,layout_track_id:v,treatment_group:b,need_tab:0===r,view_session_id:O});return(0,a.Z)({apiCall:function(){return function(t){return(0,o.fetchInfo)("/api/v4/homepage/get_daily_discover"+t)}(C)},actions:[function(){return{type:d.REQUESTED}},function(t,e){var a,i;return{type:d.SUCCESS,payload:{offset:r,limit:n,data:g(e),rnTabConfig:(i=null==e||null===(a=e.data)||void 0===a?void 0:a.tabs,(i||[]).map((function(t){return t?function(t){var e=(0,f.Kd)();if(!t||!(null!=t&&t.display_text||null!=t&&t.tab_image||null!=t&&t.text_color)){var n=s[""+e].all_tab_config||s.default.all_tab_config;return{name:n.display_text,color:n.text_color,image:n.tab_image}}return{name:t.display_text,color:t.text_color,image:t.tab_image,label:Number(t.product_label||0),categoryId:t.tab_id||0,recommendType:t.algo_type||5}}(t):{}}))),shouldReset:E}}},function(t,e){return{type:d.FAILED,payload:{error:e.error}}}],shouldSkipCall:m,onFinish:p})}var O,C=n(42894),I=n(55299),R=n(49843);function A(){return A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},A.apply(this,arguments)}var T={nextOffset:0,progress:R.Z.INIT,error:0,requestId:""},y=(0,C.Z)(((O={})[d.REQUESTED]=function(t){return A({},t,{progress:R.Z.REQ})},O[d.SUCCESS]=function(t,e){var n=e.payload,a=n.data,i=n.tabConfig,o=n.rnTabConfig,r=n.offset,d=n.limit,_=n.shouldReset,c=t.data||a;return A({},t,{data:A({},c,{update_time:Number(Date.now()),sections:A({},c.sections,{dd_main_sec:A({},c.sections.dd_main_sec,{data:_?a.sections.dd_main_sec.data:(0,I.Z)(t.data?t.data.sections.dd_main_sec.data:[],a.sections.dd_main_sec.data,r)})})}),nextOffset:(r||0)+(d||0),tabConfig:i||t.tabConfig,rnTabConfig:o||t.rnTabConfig,progress:R.Z.OK,requestId:a.requestId||"",userMetaData:a.user_meta_data})},O[d.FAILED]=function(t,e){return A({},t,{error:e.payload.error,progress:R.Z.ERR})},O[_.SUCCESS]=function(t,e){var n,a=e.data,i=a.item_id,o=a.shop_id,r=a.data_type,d=t.data,_=((null==d||null===(n=d.sections)||void 0===n?void 0:n.dd_main_sec.data)||[]).filter((function(t){return!(t.data_type===r&&t.shopid===o&&t.itemid===i)}));return A({},t,{data:A({},d,{sections:A({},null==d?void 0:d.sections,{dd_main_sec:{total:(null==d?void 0:d.sections.dd_main_sec.total)||0,data:_}})})})},O[_.FAILED]=function(t,e){var n,a=e.data,i=a.item_id,o=a.shop_id,r=a.data_type,d=t.data,_=((null==d||null===(n=d.sections)||void 0===n?void 0:n.dd_main_sec.data)||[]).filter((function(t){return!(t.data_type===r&&t.shopid===o&&t.itemid===i)}));return A({},t,{data:A({},d,{sections:A({},null==d?void 0:d.sections,{dd_main_sec:{total:(null==d?void 0:d.sections.dd_main_sec.total)||0,data:_}})})})},O),T),D=[];function L(t,e){if(!t||!t.data)return D;if(!e||!e.limit&&!e.offset)return t.data.sections.dd_main_sec.data;var n=e.offset,a=void 0===n?0:n,i=e.limit;return t.data.sections.dd_main_sec.data.slice(a,"number"==typeof i?i+a:void 0)}function P(t){return!!t.data_type&&[u.Item,u.Ads].includes(t.data_type)}function h(t,e){return L(t,e).filter(P)}function U(t){return t&&t.data?t.data.sections.dd_main_sec.total:0}function F(t){return t&&t.tabConfig?t.tabConfig.all:null}function N(t){return t&&t.tabConfig?t.tabConfig.campaign:null}function x(t){return t?t.progress:R.Z.INIT}},69759:function(t,e,n){"use strict";n.d(e,{zZ:function(){return S},Gn:function(){return s},zP:function(){return b},hU:function(){return O},uG:function(){return v}});var a=n(23793),i=n(72018);function o(t){return t?{name:t.display_text,color:t.text_color,imageForPC:t.pc_image,imageForApp:t.tab_image,label:t.product_label,recommendType:t.algo_type||0}:{}}var r=n(1659),d=n(67782),_=(0,d.n)("FETCH_DAILY_DISCOVER_TAB_CONFIG"),c=(0,d.n)("FETCH_DAILY_DISCOVER_PERSONALIZED_TABS"),u=(0,d.n)("FETCH_DAILY_DISCOVER_COLLECTIONS"),l=(0,d.n)("FETCH_DAILY_DISCOVER_TOP_PRODUCTS");function s(t){var e=t.shouldSkipCall;return(0,a.Z)({apiCall:function(){return(0,r.fetchInfo)("/api/v2/cms/daily_discover_config")},actions:[function(){return{type:_.REQUESTED}},function(t,e){var n=(0,i.Z)(e,["data","all_tab_config"]),a=(0,i.Z)(e,["data","campaign_tabs"],[]);return{type:_.SUCCESS,data:{all:o(n),campaign:a.map((function(t){return o(t)}))}}},function(t,e){return{type:_.FAILED,data:e.error}}],shouldSkipCall:function(t){return"function"==typeof e&&e(t)}})}var f,p=n(42894),m=n(49843);function E(){return E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},E.apply(this,arguments)}var g={collections:[],topProducts:[],personalizedTabs:{error:0,loading:!1,categories:[]},tabConfig:{error:0,fetchStatus:m.Z.INIT,config:{all:{},campaign:[]}}},S=(0,p.Z)(((f={})[_.REQUESTED]=function(t){return E({},t,{tabConfig:E({},t.tabConfig,{fetchStatus:m.Z.REQ,error:0})})},f[_.SUCCESS]=function(t,e){return E({},t,{tabConfig:{config:e.data,fetchStatus:m.Z.OK,error:0}})},f[_.FAILED]=function(t,e){return E({},t,{tabConfig:{config:E({all:{},campaign:[]},(0,i.Z)(t,["tabConfig","config"])),fetchStatus:m.Z.ERR,error:e.data}})},f[c.REQUESTED]=function(t){return E({},t,{personalizedTabs:E({},t.personalizedTabs,{loading:!0,error:0})})},f[c.SUCCESS]=function(t,e){return E({},t,{personalizedTabs:{loading:!1,error:0,categories:e.data}})},f[c.FAILED]=function(t,e){return E({},t,{personalizedTabs:{loading:!1,error:e.data,categories:[]}})},f[u.REQUESTED]=function(t){return E({},t,{collections:[]})},f[u.SUCCESS]=function(t,e){return E({},t,{collections:e.data})},f[l.REQUESTED]=function(t){return E({},t,{topProducts:[]})},f[l.SUCCESS]=function(t,e){return E({},t,{topProducts:e.data})},f),g);function v(t){return(0,i.Z)(t,["tabConfig","fetchStatus"],m.Z.INIT)}function b(t){return(0,i.Z)(t,["tabConfig","config","all"])}function O(t){var e=function(t){return(0,i.Z)(t,["tabConfig","config","campaign"])}(t);return e?e[0]:void 0}},91583:function(t,e,n){"use strict";n.d(e,{Z:function(){return d}});var a=n(63804),i=n(16063),o=n(80864),r=function(t){var e=t.customHeader;return a.createElement("img",{src:(0,i.Jn)(e.image),style:{width:e.display_width?(0,o.Z)(e.display_width):"auto",height:e.display_height?(0,o.Z)(e.display_height):"auto"}})},d=function(t){var e=t.headerText,n=t.customHeader;return n?n.image?a.createElement(r,{customHeader:{image:n.image,display_width:n.display_width,display_height:n.display_height}}):a.createElement("span",{style:{color:n.color||void 0}},e):a.createElement(a.Fragment,null,e)||null}},92758:function(t,e,n){"use strict";n.d(e,{Au:function(){return a.Au}}),n(71437),(0,n(44578).n)("FETCH_FEATURE_TOGGLES"),n(63804),n(95325),n(19551),n(46302);var a=n(64674)},64674:function(t,e,n){"use strict";n.d(e,{Au:function(){return i}});var a=n(72018);function i(t,e,n){return void 0===n&&(n=!1),(0,a.Z)(t,["toggles",e],n)}n(19551)},1820:function(t,e,n){"use strict";n.d(e,{u:function(){return a}});var a={FLASH_SALE:"FLASH_SALE",CATEGORY:"CATEGORY",GROUP_BUY:"GROUP_BUY",OFFICIAL_MALL:"OFFICIAL_MALL",TRENDING_SEARCH:"TRENDING_SEARCH",TOP_PRODUCTS:"TOP_PRODUCTS",COLLECTIONS:"COLLECTIONS",DAILY_DISCOVER:"DAILY_DISCOVER",DAILY_DISCOVER_CAMPAIGN:"DAILY_DISCOVER_CAMPAIGN",LIVE_STREAMING:"LIVE_STREAMING"}},82216:function(t,e,n){"use strict";n.d(e,{D4:function(){return a},dY:function(){return i},dF:function(){return o},tW:function(){return r},of:function(){return d}});var a="topProductWeb",i="topProductMicrosite",o="recommendItem",r="dailyDiscoverMain",d="dailyDiscoverCampaign"},44578:function(t,e,n){"use strict";function a(t){return{NAME:""+t,REQUESTED:t+"_REQUESTED",SUCCESS:t+"_SUCCESS",FAILED:t+"_FAILED"}}n.d(e,{n:function(){return a}})},67782:function(t,e,n){"use strict";function a(t,e){return Object.assign({type:t},e)}function i(t){return{NAME:""+t,REQUESTED:t+"_REQUESTED",SUCCESS:t+"_SUCCESS",FAILED:t+"_FAILED"}}n.d(e,{a:function(){return a},n:function(){return i}})},55369:function(t,e,n){"use strict";n.d(e,{P:function(){return a}});var a=function(t){return t[t.SIMILAR_PRODUCTS=0]="SIMILAR_PRODUCTS",t[t.CATEGORY=1]="CATEGORY",t[t.COUNTRY=2]="COUNTRY",t[t.SIMILAR_ITEM=3]="SIMILAR_ITEM",t[t.POPULAR=4]="POPULAR",t[t.DAILY_DISCOVER=5]="DAILY_DISCOVER",t[t.OFFICIAL_SHOP=6]="OFFICIAL_SHOP",t[t.OFFICIAL_SHOP_POPULAR=7]="OFFICIAL_SHOP_POPULAR",t[t.TRENDING_SEARCHES=8]="TRENDING_SEARCHES",t[t.FROM_SAME_SHOP=9]="FROM_SAME_SHOP",t[t.SHOPPING_CART=10]="SHOPPING_CART",t[t.RECENTLY_VIEWED=11]="RECENTLY_VIEWED",t[t.YMAL=16]="YMAL",t[t.FIND_SIMILAR_PRODUCTS_FROM_ITEM_CARD=17]="FIND_SIMILAR_PRODUCTS_FROM_ITEM_CARD",t[t.FIND_SIMILAR_PRODUCTS_FROM_SHOPPING_CART=18]="FIND_SIMILAR_PRODUCTS_FROM_SHOPPING_CART",t[t.SIMILAR_PRODUCT_S_MART=19]="SIMILAR_PRODUCT_S_MART",t[t.JUST_FOR_YOU_1111=22]="JUST_FOR_YOU_1111",t[t.SHOP_FOR_YOU_1111=23]="SHOP_FOR_YOU_1111",t[t.BIG_SALE_11_11=26]="BIG_SALE_11_11",t[t.ORDER_PAID=24]="ORDER_PAID",t[t.SIMILAR_PRODUCTS_FROM_PRODUCT_DETAIL=27]="SIMILAR_PRODUCTS_FROM_PRODUCT_DETAIL",t[t.JUST_FOR_YOU_SHOP_FLASH_SALE=28]="JUST_FOR_YOU_SHOP_FLASH_SALE",t[t.COLLECTION_SHOP=34]="COLLECTION_SHOP",t[t.JUST_FOR_YOU_WELCOME_PACKAGE=49]="JUST_FOR_YOU_WELCOME_PACKAGE",t[t.FREQUENTLY_BOUGHT_TOGETHER=35]="FREQUENTLY_BOUGHT_TOGETHER",t[t.SHOP=-1]="SHOP",t}({})},25131:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var a=function(t){return String(t/16)+"rem"}},80864:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var a=function(t){return String(t/16)+"rem"}},46302:function(t,e,n){"use strict";n.d(e,{u:function(){return o}});var a=n(63804),i=n.n(a);function o(t,e){i().useEffect((function(){var e=t();if(Array.isArray(e))return e[1]}),e)}},56857:function(t,e,n){"use strict";n.d(e,{Z:function(){return _}});var a=n(63804),i=n.n(a),o=n(75620),r=n.n(o),d=n(31750);function _(t){var e=t.show,n=void 0!==e&&e,a=t.color,o=void 0===a?d._8:a,_=t.hideOverlay,c=void 0!==_&&_,u=t.spinnerClassName;return i().createElement("div",{className:r()({"stardust-spinner--hidden":!n},"stardust-spinner")},i().createElement("div",{className:r()("stardust-spinner__background",{"stardust-spinner__background--no-overlay":c})},i().createElement("div",{className:r()(u,"stardust-spinner__main"),role:"img"},i().createElement("svg",{width:"34",height:"12",viewBox:"-1 0 33 12"},i().createElement("circle",{className:"stardust-spinner__spinner",cx:4,cy:6,r:4,fill:o}),i().createElement("circle",{className:"stardust-spinner__spinner",cx:16,cy:6,r:4,fill:o}),i().createElement("circle",{className:"stardust-spinner__spinner",cx:28,cy:6,r:4,fill:o})))))}}}]);
//# sourceMappingURL=https://sourcemap.webfe.shopeemobile.com/pcmall-rcmd/_/7230.febd590a34d9ef4e7ca0.legacy.js.map