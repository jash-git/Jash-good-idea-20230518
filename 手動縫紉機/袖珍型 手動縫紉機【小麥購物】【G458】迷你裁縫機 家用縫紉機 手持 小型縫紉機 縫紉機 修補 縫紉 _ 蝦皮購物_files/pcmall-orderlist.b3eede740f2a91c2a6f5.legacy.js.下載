(self.mfeModules=self.mfeModules||[]).push(["",["Platform","React","ReactRouter","ReactRedux","FeatureToggles","PlatformApi","PrometheusBeacon","Redux","WithInjectReducer","Account","ReactDom","PrometheusTracker","NebulaCore","ReactDomServer"],function(e,t,r,n,o,a,i,c,l,s,u,d,p,f){return function(){(self.wpJsonpPcmallOrderlist=self.wpJsonpPcmallOrderlist||[]).push([[3489],{85810:function(e,t,r){"use strict";r.microfeA(e,(function(){return Promise.all([r.microfeM(0),r.microfeM(2),r.microfeM(1),r.microfeM(3),r.microfeM(4)]).then((function(){e.exports=t,r.d(t,{Z:function(){return Fe}});var n=r(63804),o=r.n(n),a=r(56775),i=r(69367),c=r(95325),l=r(65895),s=r(84777),u=r(50814),d=r(68583),p=r.n(d),f=r(52399),m=r(83874),h=[{type:s.hc.ALL,label:"label_all_title"},{type:s.hc.TO_PAY,label:"label_to_pay"},{type:s.hc.TO_SHIP,label:"label_to_ship"},{type:s.hc.TO_RECEIVE,label:"label_to_receive"},{type:s.hc.COMPLETED,label:"label_completed"},{type:s.hc.CANCELLED,label:"label_cancelled"},{type:s.hc.RETURN,label:"label_return_refund"}],v=(0,c.connect)((function(e){return{orderCount:(0,s.AF)(e)}}))((function(e){var t,r=e.basePath,o=e.tab,c=e.currentListType,l=e.orderCount,s=(0,m.Z)("OrderListTab",{tab:o}),u=l[o.type]||0,d=(0,i.ZY)(r,{type:o.type});return n.createElement(a.Link,{className:p()("OFl2GI",(t={},t.gAImis=c===o.type,t)),to:d,onClick:s,title:(0,f.t)(o.label)},n.createElement("span",{className:"_20hgQK"},(0,f.t)(o.label)),u>0&&n.createElement("span",{className:"fSW3m4"},"(",u>99?"99+":u,")"))})),y=r(84857);function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g.apply(this,arguments)}function E(e){return n.createElement("svg",g({width:"19px",height:"19px",viewBox:"0 0 19 19"},e),n.createElement("g",{id:"Search-New",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.createElement("g",{id:"my-purchase-copy-27",transform:"translate(-399.000000, -221.000000)",strokeWidth:"2"},n.createElement("g",{id:"Group-32",transform:"translate(400.000000, 222.000000)"},n.createElement("circle",{id:"Oval-27",cx:"7",cy:"7",r:"7"}),n.createElement("path",{d:"M12,12 L16.9799555,16.919354",id:"Path-184",strokeLinecap:"round",strokeLinejoin:"round"})))))}var _=(0,c.connect)(null,{}),b=(0,y.compose)(a.withRouter,_)((function(e){var t,r=e.history,o=e.initialKeyword,a=n.useState(o||""),c=a[0],l=a[1];n.useEffect((function(){l(o||"")}),[o]);var s=n.useState(!1),u=s[0],d=s[1],m=n.useCallback((function(){d(!0)}),[]),h=n.useCallback((function(){d(!1)}),[]),v=n.useCallback((function(e){if(13!==e.keyCode)return null;e.preventDefault(),c?r.push({pathname:r.location.pathname,search:(0,i.Wc)({keyword:c})}):r.push({pathname:r.location.pathname})}),[r,c]),y=n.useCallback((function(e){l(e.target.value)}),[]);return n.createElement("div",{className:p()("VrgkXA",(t={},t.U6ekJk=Boolean(u||c),t))},n.createElement(E,null),n.createElement("input",{autoComplete:"off",placeholder:(0,f.t)("buyer_search_order_hint"),value:c,onFocus:m,onChange:y,onKeyDown:v,onBlur:h}))})),w=r(9598);function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L(e,t)}function T(e){return e?e.offsetTop+T(e.offsetParent):0}var x=function(e){var t,r;function o(t){var r,n,o,a;return(r=e.call(this,t)||this).scrollListener=function(){if(r.props.hasMore&&!r.props.isFetching){var e=(new Date).getTime(),t=r._el;if(t){var n=r.props.window===window?window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop:r.props.window.scrollTop;if(T(t)+t.offsetHeight-n-(r.props.window.innerHeight||r.props.window.offsetHeight)<Number(r.props.threshold)){var o=r.props.loadDelay-(e-r._lastLoading);o<=0?r.loadMore():r._watingLoad||(r._watingLoad=window.setTimeout(r.loadMore.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r)),o))}}}},r._lastLoading=(new Date).getTime()-t.loadDelay,r._watingLoad=null,r.throttleScrollHandler=(n=r.scrollListener,50,o=null,a=null,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=Date.now(),c=o?o+50-i:0;c<=0?(o=i,n.apply(void 0,t)):(a&&clearTimeout(a),a=setTimeout((function(){o=Date.now(),n.apply(void 0,t),a=null}),c))}),r}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,L(t,r);var a=o.prototype;return a.render=function(){var e=this;return n.createElement("div",{ref:function(t){return e._el=t}},this.props.hasMore?this.props.loadIndicator:null)},a.loadMore=function(){this.props.hasMore&&(this._watingLoad&&(clearTimeout(this._watingLoad),this._watingLoad=null),this._lastLoading=(new Date).getTime(),this.props.loadMore())},a.attachScrollListener=function(){this.props.window.addEventListener("scroll",this.throttleScrollHandler),this.props.window.addEventListener("resize",this.throttleScrollHandler),this.props.disableAutoFetch||setTimeout(this.scrollListener,0)},a.detachScrollListener=function(){this.props.window.removeEventListener("scroll",this.throttleScrollHandler),this.props.window.removeEventListener("resize",this.throttleScrollHandler)},a.componentDidMount=function(){this.attachScrollListener()},a.componentWillUnmount=function(){this.detachScrollListener()},o}(n.Component);x.defaultProps={loadMore:function(){},hasMore:!1,loadIndicator:n.createElement("div",null,"Loading ..."),threshold:800,loadDelay:1e3,isFetching:!1,window:window,autoFetch:!0};var N=x,S=r(8203),O=r(46375),I=r(56466),k=r(49053),P=function(){return n.createElement("div",{className:k.Z.pageWrapper},n.createElement("div",{className:k.Z.noContent},n.createElement("div",{className:k.Z.noContentIcon}),n.createElement("div",{className:k.Z.noContentTitle},(0,f.t)("order_purchase_label_no_order_yet"))))},C=r(19959),M=r(71437),A=r(33003),j=r(10323),R=r(59842),Z=r(20997),B=r(24752),D=r(95698),F=r(45885);function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H.apply(this,arguments)}var G=(0,F.Z)({Icon:function(e){return o().createElement("svg",H({enableBackground:"new 0 0 15 15",viewBox:"0 0 15 15",x:"0",y:"0"},e),o().createElement("g",null,o().createElement("line",{fill:"none",strokeLinejoin:"round",strokeMiterlimit:"10",x1:"8.6",x2:"4.2",y1:"9.8",y2:"9.8"}),o().createElement("circle",{cx:"3",cy:"11.2",fill:"none",r:"2",strokeMiterlimit:"10"}),o().createElement("circle",{cx:"10",cy:"11.2",fill:"none",r:"2",strokeMiterlimit:"10"}),o().createElement("line",{fill:"none",strokeMiterlimit:"10",x1:"10.5",x2:"14.4",y1:"7.3",y2:"7.3"}),o().createElement("polyline",{fill:"none",points:"1.5 9.8 .5 9.8 .5 1.8 10 1.8 10 9.1",strokeLinejoin:"round",strokeMiterlimit:"10"}),o().createElement("polyline",{fill:"none",points:"9.9 3.8 14 3.8 14.5 10.2 11.9 10.2",strokeLinejoin:"round",strokeMiterlimit:"10"})))},iconClassNames:["icon-free-shipping-line"]});function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U.apply(this,arguments)}var W=(0,F.Z)({Icon:function(e){return o().createElement("svg",U({enableBackground:"new 0 0 15 15",viewBox:"0 0 15 15",x:"0",y:"0"},e),o().createElement("g",null,o().createElement("circle",{cx:"7.5",cy:"7.5",fill:"none",r:"6.5",strokeMiterlimit:"10"}),o().createElement("path",{d:"m5.3 5.3c.1-.3.3-.6.5-.8s.4-.4.7-.5.6-.2 1-.2c.3 0 .6 0 .9.1s.5.2.7.4.4.4.5.7.2.6.2.9c0 .2 0 .4-.1.6s-.1.3-.2.5c-.1.1-.2.2-.3.3-.1.2-.2.3-.4.4-.1.1-.2.2-.3.3s-.2.2-.3.4c-.1.1-.1.2-.2.4s-.1.3-.1.5v.4h-.9v-.5c0-.3.1-.6.2-.8s.2-.4.3-.5c.2-.2.3-.3.5-.5.1-.1.3-.3.4-.4.1-.2.2-.3.3-.5s.1-.4.1-.7c0-.4-.2-.7-.4-.9s-.5-.3-.9-.3c-.3 0-.5 0-.7.1-.1.1-.3.2-.4.4-.1.1-.2.3-.3.5 0 .2-.1.5-.1.7h-.9c0-.3.1-.7.2-1zm2.8 5.1v1.2h-1.2v-1.2z",stroke:"none"})))},iconClassNames:["icon-help"]}),K={card:"hiXKxx",cardHeaderStatus:"V+w7Xs",cardShopItemLine:"FycaKn",cardShopItemSeparator:"B8+ewx",cardShopItem:"x0QT2k",cardParcel:"_0OiaZ-",shippingStatus:"qP6Mvo",shippingStatusDescription:"KmBIg2",shippingStatusDescriptionText:"nkmfr2",shippingStatusTime:"wlPnVi",shippingStatusTimeLabel:"_3YdXnJ",cardSummary:"kvXy0c",cardSummaryWithoutActions:"nLJ3Ag",cardSummaryTotal:"-78s2g",cardSummaryShopeeGuarantee:"IlORNJ",cardSummaryTotalText:"_0NMXyN",cardSummaryTotalValue:"DeWpya",cardAction:"AM4Cxf",cardActionStatus:"qtUncs",cardActionStatusHighlightedText:"an9g3V",cardActionStatusHoverPopup:"QY-TMp",cardActionButtons:"EOjXew",primaryButton:"PF0-AU",secondaryButton:"PgtIur",cardActionButtonsWithMore:"_4IR9IT",openMoreWrapper:"YqnKh5",openMore:"nu5wWe",openMoreArrow:"zK+pKi",openMoreButtonsContainer:"_3j3oE1",openMoreButton:"lLqDZM",shippingOTPAlert:"IHLEkK"},Y=function(e){var t,r,o=e.to,a=e.statusLabel,i=e.shippingInfo,c=e.orderCard,l=n.useContext(j.Z),s=l.listType,u=l.orderId,d=l.checkoutId,p=(0,m.Z)("OrderCard",{listType:s,orderId:u,checkoutId:d});if(!c.product_info)return null;var h=c.shop_info,v=c.product_info,y=(0,M.isFeatureEnabled)(A.LB)&&null!=i&&i.is_multi_parcel?n.createElement(n.Fragment,null,(0,f.wt)("order_list_text_to_receive_multiple_logistics_parcels"),n.createElement("br",null)):null,g=i&&i.is_multi_parcel&&i.parcel_no?"["+(0,f.wt)("label_odp_parcel")+" "+(i.parcel_no||"")+"]":null,E=(null==i||null===(t=i.tracking_info)||void 0===t?void 0:t.description)||"",_=(null==i||null===(r=i.tracking_info)||void 0===r?void 0:r.ctime)||0;return n.createElement("div",{className:K.cardShopItem},n.createElement(B.Z,{shopInfo:h,orderId:c.order_id,extraInfo:n.createElement(n.Fragment,null,!!E&&n.createElement("div",{className:K.shippingStatus},n.createElement(R.Z,{to:o,className:K.shippingStatusDescription},n.createElement("span",{className:K.shippingStatusDescriptionText},y,n.createElement(G,null),g," ",(0,f.wt)(E))),!!_&&n.createElement(Z.ve,{showPosition:"center",content:n.createElement(W,null),showContent:n.createElement("div",{className:K.shippingStatusTime},n.createElement("div",{className:K.shippingStatusTimeLabel},(0,f.wt)("label_updated_by")),n.createElement("div",null,(0,f.mr)(_)))})),n.createElement("div",{className:K.cardHeaderStatus},(0,f.wt)(a)))}),n.createElement("div",{className:K.cardShopItemLine}),n.createElement(R.Z,{className:K.cardLink,to:o,onClick:p},(v.item_groups||[]).map((function(e,t){return n.createElement("div",{key:t,className:K.cardParcel},n.createElement(D.Z,{key:t,noLink:!0,itemGroup:e}))}))),n.createElement("div",{className:K.cardShopItemSeparator}))},V=r(49710),X="OwGaHA",z="M7wYu+",J="rTU058";function q(e){var t=e.children,r=e.tooltipMessage;return n.createElement(Z.ve,{showPosition:"center",content:n.createElement("u",{className:z},t),showContent:n.createElement("div",{className:J},(0,f.wt)(r))})}var Q=function(e){var t=e.className,r=e.label,o=e.tooltipMessage;return r?o?n.createElement("span",{className:p()(X,t)},r.tl?r.text:(0,f.OE)(r.text,(0,f.uI)(r.attributes,q,{tooltipMessage:o},{payment_channel_name:!0,shop_name:!0,rejected_reason:!0}))):n.createElement("span",{className:t},(0,f.wt)(r)):null},$=r(85612);function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ee.apply(this,arguments)}var te=(0,F.Z)({Icon:function(e){return o().createElement("svg",ee({enableBackground:"new 0 0 11 11",viewBox:"0 0 11 11",x:"0",y:"0"},e),o().createElement("g",null,o().createElement("path",{d:"m11 2.5c0 .1 0 .2-.1.3l-5 6c-.1.1-.3.2-.4.2s-.3-.1-.4-.2l-5-6c-.2-.2-.1-.5.1-.7s.5-.1.7.1l4.6 5.5 4.6-5.5c.2-.2.5-.2.7-.1.1.1.2.3.2.4z"})))},iconClassNames:["icon-arrow-down"]}),re=function(e){var t,r=e.primaryButtons,o=e.secondaryButtons;if(!(null!=r&&r.length||null!=o&&o.length))return null;var a=[].concat(r||[],o||[]),i=a[0],c=a[1],l=a.slice(2);return n.createElement("div",{className:p()(K.cardActionButtons,(t={},t[K.cardActionButtonsWithMore]=a.length>3,t))},null!=i&&n.createElement("div",{className:K.primaryButton},n.createElement($.Z,{type:"primary",button:i})),null!=c&&n.createElement("div",{className:K.secondaryButton},n.createElement($.Z,{type:"secondary",button:c})),l.length>1?n.createElement("div",{className:K.secondaryButton},n.createElement("div",{className:K.openMoreWrapper},n.createElement("div",{className:K.openMore},n.createElement("span",{className:K.openMoreLabel},(0,f.t)("order_purchase_label_btn_more")),n.createElement(te,{className:K.openMoreArrow})),n.createElement("div",{className:K.openMoreButtonsContainer},l.map((function(e){return n.createElement($.Z,{key:e.id,type:"secondary",className:K.openMoreButton,button:e})}))))):1===l.length?n.createElement("div",{className:K.secondaryButton},n.createElement($.Z,{type:"secondary",button:l[0]})):null)},ne=r(23937),oe=r(99543),ae=r(54299);function ie(e){var t,r,o,a,i,l=function(e){var t,r=e.status,n=e.info_card,o=e.primary_buttons,a=e.secondary_buttons;if(!n||!n.order_id&&!n.checkout_id)return null;var i=n.order_list_cards.filter((function(e){var t;return e.shop_info&&(null===(t=e.product_info)||void 0===t?void 0:t.item_groups.length)}));return null!=i&&i.length?{infoCard:n,orderListCards:i,shipping:(null==e?void 0:e.shipping)||null,learnMoreUrl:null==e||null===(t=e.guarantee)||void 0===t?void 0:t.learn_more_url,amountPayable:n.amount_payable,finalTotal:n.final_total,subtotal:n.subtotal,status:r,primaryButtons:o,secondaryButtons:a,list_type:e.list_type}:null}(e.orderDetail),u=(0,c.useSelector)(s.jI);if(!l)return null;var d=l.infoCard,m=l.orderListCards,h=l.shipping,v=l.learnMoreUrl,y=l.amountPayable,g=l.finalTotal,E=l.subtotal,_=l.status,b=l.primaryButtons,w=l.secondaryButtons,L=null==_?void 0:_.list_view_extra_cancel_info,T=Boolean((null==_?void 0:_.list_view_text)||(null==b?void 0:b.length)||(null==w?void 0:w.length)),x=null==h||null===(t=h.shipping_otp_info)||void 0===t?void 0:t.otp_code;return n.createElement(j.Z.Provider,{value:{userId:e.userId,listType:e.listType,pageType:j.G.ORDER_LIST_PAGE,orderId:d.order_id?d.order_id:(null===(r=m[0])||void 0===r?void 0:r.order_id)||0,checkoutId:d.checkout_id,orderIds:(m||[]).map((function(e){return e.order_id||0})),shopId:null===(o=m[0].shop_info)||void 0===o?void 0:o.shop_id,shopUserId:null===(a=m[0].shop_info)||void 0===a?void 0:a.user_id}},n.createElement("div",{className:K.card},n.createElement("div",null,m.map((function(t,r){return n.createElement(Y,{key:t.shop_info.shop_id,to:u&&l.list_type===s.hc.CANCELLED?(0,f.ww)({orderId:d.order_id}):(0,f.yy)({orderId:d.order_id,checkoutId:d.checkout_id,orderIndex:r,listType:e.listType}),statusLabel:null==_?void 0:_.list_view_status_label,shippingInfo:h,orderCard:t})}))),n.createElement(C.p,null),n.createElement("div",{className:p()(K.cardSummary,(i={},i[K.cardSummaryWithoutActions]=!T,i))},n.createElement("div",{className:K.cardSummaryTotal},n.createElement(V.Z,{learnMoreUrl:v},n.createElement("div",{className:K.cardSummaryShopeeGuarantee},n.createElement(oe.Z,null))),n.createElement("div",{className:K.cardSummaryTotalText},(0,f.wt)(e.listType===s.hc.TO_PAY?"order_purchase_label_amount_payable":"label_order_total"),":"),n.createElement("div",{className:K.cardSummaryTotalValue},(0,f.xG)(y||g||E||0))),x&&n.createElement(ne.Z,{className:K.shippingOTPAlert,type:"warn",label:n.createElement("span",null,(0,f.wt)("label_order_list_code_to_receive_purchase")," ",n.createElement("b",null,x))})),T&&n.createElement("div",{className:K.cardAction},n.createElement("div",{className:K.cardActionStatus},n.createElement(Q,{label:null==_?void 0:_.list_view_text,tooltipMessage:null==_?void 0:_.popup_msg}),n.createElement(Q,{className:K.cardActionStatusHighlightedText,label:null==_?void 0:_.list_view_sub_text}),L&&n.createElement(Z.ve,{showPosition:"center",content:n.createElement(ae.Z,null),showContent:n.createElement("div",{className:K.cardActionStatusHoverPopup},(0,f.wt)(L.msg)," ",n.createElement("br",null),n.createElement("div",{className:K.cardActionStatusHighlightedText},(0,f.wt)(L.cancel_reason)))})),n.createElement(re,{primaryButtons:b,secondaryButtons:w}))))}var ce,le=n.memo(ie),se=r(19821),ue=r(1289),de=(0,c.connect)((function(e,t){return{isInitialFetch:(0,s.DD)(e,t),isLoading:(0,s.y6)(e,t),hasMore:(0,s.rT)(e,t),orders:(0,s.qy)(e,t),error:(0,s.FA)(e,t)}}),{fetchOrderList:s.z6,resetOrderInfo:s.E8})((function(e){var t=(0,w.B)().accountInfo,r=e.isInitialFetch,o=e.isLoading,a=e.listType,i=e.keyword,c=e.fetchOrderList,l=e.resetOrderInfo;n.useEffect((function(){r&&!o&&c({listType:a,keyword:i})}),[r,o,a,i,c]),n.useEffect((function(){a===s.hc.SEARCH&&l(a)}),[a,i,l]);var u=n.useCallback((function(){a!==s.hc.RETURN&&c({listType:a,keyword:i})}),[c,a,i]);if(a===s.hc.RETURN)return n.createElement(se.Z,{slotName:"pcmall-return",slotProps:{componentName:"ReturnRefundOrderList"},slotLoadingFallback:n.createElement(O.Z,null)});if(e.isInitialFetch)return n.createElement(O.Z,null);var d=e.error,p=e.orders;return null!=p&&p.length?n.createElement(n.Fragment,null,n.createElement(ue.TimingBeacon,{attributes:{listType:String(a),customPageName:"OrderListPage",withContent:"true"}}),n.createElement("div",null,p.map((function(e){var r=e.info_card,o=(0,s.jK)({orderId:r.order_id,checkoutId:r.checkout_id});return o?n.createElement(le,{key:o,userId:t.userId,listType:a,orderDetail:e}):null}))),n.createElement(N,{hasMore:e.hasMore,loadIndicator:n.createElement(S.T,null),threshold:50,loadMore:u,isFetching:e.isLoading})):null!=d&&d.error?n.createElement(I.Z,{error:d.error,onClickPrimary:function(){c({listType:a})}}):n.createElement(n.Fragment,null,n.createElement(ue.TimingBeacon,{attributes:{listType:String(a),customPageName:"OrderListPage",withContent:"false"}}),n.createElement(P,null))})),pe=r(27898),fe=r(79998),me=r(19950),he="notificationStore",ve=(0,me.n)("FETCH_NOTIFICATION_TIP"),ye="CLEAR_NOTIFICATION_TIP";function ge(e){return null==e}function Ee(e){return e?(!ge(e.category)&&e.category||"")+"."+(!ge(e.sub_category)&&e.sub_category||""):""}function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_e.apply(this,arguments)}var be=(0,r(83666).Z)(((ce={})[ve.REQUESTED]=function(e){return _e({},e,{notification:_e({},e.notification,{isLoading:!0,error:{}})})},ce[ve.SUCCESS]=function(e,t){for(var r=t,n=r.data&&r.data.rules||[],o={},a=0,i=n.length;a<i;a++){var c=n[a],l=Ee(c);l&&(o[l]=c)}return _e({},e,{notification:{isLoading:!1,error:{},rule:o}})},ce[ve.FAILED]=function(e,t){var r=t.error;return _e({},e,{notification:_e({},e.notification,{isLoading:!1,error:r})})},ce[ye]=function(e){return _e({},e,{notification:{isLoading:!1,error:{},rule:{}}})},ce),{notification:{isLoading:!1,error:{},rule:{}}}),we=r(68313),Le=r(93249),Te=r(43689);r(88295);var xe=r(57762),Ne=r(47471),Se=r(25701);function Oe(){Oe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(O){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var a=t&&t.prototype instanceof p?t:p,i=Object.create(a.prototype),c=new x(o||[]);return n(i,"_invoke",{value:b(e,r,c)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=s;var d={};function p(){}function f(){}function m(){}var h={};l(h,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(N([])));y&&y!==t&&r.call(y,a)&&(h=y);var g=m.prototype=p.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(n,a,i,c){var l=u(e[n],e,a);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,i,c)}),(function(e){o("throw",e,i,c)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return o("throw",e,i,c)}))}c(l.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function b(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function N(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:f,configurable:!0}),f.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(_.prototype),l(_.prototype,i,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new _(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),l(g,c,"Generator"),l(g,a,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=N,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function Ie(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}var ke=r(35634),Pe=(0,ke.P1)((function(e){return e?e[he]:null}),(function(e){return e?e.notification:null})),Ce=((0,ke.P1)(Pe,(function(e){return!!e&&e.isLoading})),(0,ke.P1)(Pe,(function(e){return e?e.error:{}})),(0,ke.P1)((function(e,t){return{category:t.category,sub_category:t.subCategory}}),Pe,(function(e,t){var r=Ee(e);return t&&r?t.rule[r]:null}))),Me=Te.Z,Ae=(0,c.connect)((function(e,t){return{rule:Ce(e,t)}}),{fetchNotificationTip:function(e){var t=e.category,r=e.subCategory;return function(){var e,n=(e=Oe().mark((function e(n){var o,a,i,c;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{data:null,error:-1});case 2:return n({type:ve.REQUESTED}),e.next=5,l={category:t,sub_category:r},(0,Ne.fetchInfo)((0,Se.ZY)("/api/v4/order/get_notification",l));case 5:return o=e.sent,a=o.response,i=o.error,c=a&&a.data||null,n(i?{type:ve.FAILED,error:{error:i}}:{type:ve.SUCCESS,data:c}),e.abrupt("return",{data:c,error:i});case 11:case"end":return e.stop()}var l}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Ie(a,n,o,i,c,"next",e)}function c(e){Ie(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}()},clearNotificationTip:function(){return function(e){e({type:ye})}}}),je=(0,y.compose)(xe.withInjectReducer,Ae)((function(e){var t=e.className,r=e.category,o=e.subCategory,a=e.injectAsyncReducer,i=e.rule,c=e.fetchNotificationTip,l=e.clearNotificationTip;return n.useEffect((function(){var e;a(((e={})[he]=be,e))}),[]),n.useEffect((function(){c({category:r,subCategory:o})}),[r,o,c]),n.useEffect((function(){return function(){l()}}),[l]),i&&i.description?(Le.X.getItem(we.q)||{})[i.id]?n.createElement("div",null):n.createElement(Me,{className:t,rule:i}):n.createElement("div",null)})),Re=r(86704),Ze=r(45098),Be=r.n(Ze);function De(){var e=(0,a.useHistory)(),t=(0,c.useDispatch)();n.useEffect((function(){t((0,s.x_)())}),[t]);var r,o,d,p,f=(0,l.Z)("OrderListPage"),m=(d=((r=e.location.search)?(0,i.AW)(r):{type:s.hc.ALL}).type,p=Number(d),o=p,h.some((function(e){return e.type===o}))?p:s.hc.ALL),y=(e.location.search?(0,i.AW)(e.location.search):{keyword:""}).keyword;return m!==s.hc.RETURN||(0,M.isFeatureEnabled)(fe.R5c)||(window.location.href="/user/purchase/"),n.createElement(u.ZP,{targetType:"OrderListPage"},n.createElement("div",{ref:f}),n.createElement("div",{className:"VYJdTQ"},h.map((function(t){return t.type!==s.hc.RETURN||(0,M.isFeatureEnabled)(fe.R5c)?n.createElement(v,{key:t.type,basePath:e.location.pathname,currentListType:m,tab:t}):null}))),n.createElement(je,{category:we.$.ORDER_LIST_PAGE,subCategory:m}),m===s.hc.ALL&&n.createElement(b,{initialKeyword:y}),n.createElement(de,{listType:m===s.hc.ALL&&y?s.hc.SEARCH:m,keyword:y}))}(0,Re.injectTracking)(Be());var Fe=function(){return n.createElement(pe.Z,null,n.createElement(De,null))}}))}))},45098:function(e,t,r){e.exports=r.p+"6a3776903a08e5bf16f3.tr.js"},17:function(e){"use strict";e.exports=s},71437:function(e){"use strict";e.exports=o},43696:function(e){"use strict";e.exports=p},16161:function(t){"use strict";t.exports=e},86704:function(e){"use strict";e.exports=a},1289:function(e){"use strict";e.exports=i},43332:function(e){"use strict";e.exports=d},63804:function(e){"use strict";e.exports=t},67274:function(e){"use strict";e.exports=u},67876:function(e){"use strict";e.exports=f},95325:function(e){"use strict";e.exports=n},56775:function(e){"use strict";e.exports=r},84857:function(e){"use strict";e.exports=c},57762:function(e){"use strict";e.exports=l}},function(t){"use strict";var r;r=t.x,t.x=function(){Promise.resolve(t(85810)).then((function(t){e.setModule("pcmall-orderlist",t.Z,{type:"slot",buildInformation:{updated:"2023-05-30T09:42:25.314Z",tag:"orderfe-v0.31.0",branch:"heads/orderfe-v0.31.0",lastCommit:"Merge branch '\\''staging'\\'' into '\\''release'\\''",lastCommitHash:"4cad66f84b53fb81e7ae905bc207b3cd54b0957b"},registerSentryDsn:!0,projectAndModuleName:"pcmall-orderlist"}),r()}))}},[[85810,3666,4729,4396]]])}},2]),function(){if(window&&window.__DECKER_HOOK__){var e=window.__DECKER_HOOK__,t=function(){e.sendToDevtools("MFE_LOAD_SLOT",{slotName:"pcmall-orderlist",updated:"2023-05-30T09:42:25.384Z",tag:"orderfe-v0.31.0",branch:"heads/orderfe-v0.31.0",lastCommit:"Merge branch '\\''staging'\\'' into '\\''release'\\''",lastCommitHash:"4cad66f84b53fb81e7ae905bc207b3cd54b0957b"})};e.on("MFE_RETRIEVE_SLOTS",t),t()}}();